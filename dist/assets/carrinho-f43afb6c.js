import{T as a}from"./index-5257d121.js";const s=a("carrinho",{state:()=>({itens:JSON.parse(localStorage.getItem("carrinho"))||[]}),actions:{salvarNoLocalStorage(){localStorage.setItem("carrinho",JSON.stringify(this.itens))},adicionarAoCarrinho(r){const t=r.preco?r.preco:r.precoAntigo;if(!t){console.error("Não é possível adicionar um item sem preço válido.");return}const e=this.itens.find(o=>o.id===r.id);e?e.quantidade+=1:this.itens.push({...r,quantidade:1,preco:t}),this.salvarNoLocalStorage()},removerDoCarrinho(r){this.itens=this.itens.filter(t=>t.id!==r),this.salvarNoLocalStorage()},limparCarrinho(){this.itens=[],this.salvarNoLocalStorage()},carregarCarrinho(){this.itens=JSON.parse(localStorage.getItem("carrinho"))||[]}},getters:{totalCarrinho:r=>r.itens.reduce((t,e)=>t+e.preco*e.quantidade,0),quantidadeTotal:r=>r.itens.reduce((t,e)=>t+e.quantidade,0)}});export{s as u};
