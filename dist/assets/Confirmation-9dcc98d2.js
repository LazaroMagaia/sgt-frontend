import{_ as f,N as v,r as p,m as y,W as g,d as c,f as t,h as o,L as s,O as w,P as k,e as N,w as D,c as C,o as _,Q as T,R as F,Y as P}from"./index-d6a89262.js";const a=i=>(T("data-v-06971e47"),i=i(),F(),i),S={class:"confirmation-page max-w-4xl mx-auto p-6"},B=a(()=>t("h1",{class:"text-4xl font-bold mb-6 text-blue-600"},"Order Confirmation",-1)),E=a(()=>t("p",{class:"text-lg text-gray-700 mb-6"},"Thank you for your purchase! Your order details are below:",-1)),I={class:"bg-white p-4 rounded-lg shadow-lg mb-8"},O={class:"text-lg text-gray-800"},j={class:"font-semibold"},A={class:"text-lg text-gray-800"},L={class:"font-semibold"},M={class:"text-lg text-gray-800"},R={class:"font-semibold capitalize"},$={class:"bg-white p-4 rounded-lg shadow-lg"},V=a(()=>t("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Ticket Details",-1)),Z={class:"flex flex-col md:flex-row items-start md:items-center mb-4"},Q={class:"flex-1"},U={class:"text-lg font-medium text-gray-800"},Y=a(()=>t("strong",null,"From:",-1)),q={class:"text-lg font-medium text-gray-800"},z=a(()=>t("strong",null,"To:",-1)),G={class:"text-lg text-gray-600"},H=a(()=>t("strong",null,"Description:",-1)),W={class:"flex flex-col md:flex-row justify-between items-center"},J={class:"flex-1"},K={class:"text-lg text-gray-600"},X=a(()=>t("strong",null,"Quantity:",-1)),tt={class:"text-lg text-gray-600"},et=a(()=>t("strong",null,"Price per Ticket:",-1)),ot={class:"text-lg text-gray-600"},st=a(()=>t("strong",null,"Subtotal:",-1)),at={__name:"Confirmation",setup(i){const m=P+"images/citylink.jpeg",h=v(),u=p(h.params.order_id||"N/A"),n=p({id:0,total:0,status:"loading...",tickets:[]});y(async()=>{if(u.value!=="N/A")try{const l=await g.get(`ordens/${u.value}`);n.value=l.data}catch(l){console.error("Error fetching order details:",l),n.value.status="Error fetching details"}});const x=async l=>{try{const r=await g.post(`ordens/${l}/downloadPDF`,null,{responseType:"blob"}),d=window.URL.createObjectURL(new Blob([r.data])),e=document.createElement("a");e.href=d,e.setAttribute("download",`order_${l}.pdf`),document.body.appendChild(e),e.click(),e.parentNode.removeChild(e)}catch(r){console.error("Error downloading PDF:",r)}};return(l,r)=>{const d=C("router-link");return _(),c("div",S,[B,E,t("div",I,[t("p",O,[o("Order Number: "),t("span",j,s(n.value.id),1)]),t("p",A,[o("Total Amount: "),t("span",L,s(n.value.total)+" MZN",1)]),t("p",M,[o("Order Status: "),t("span",R,s(n.value.status),1)])]),t("div",$,[V,(_(!0),c(w,null,k(n.value.tickets,(e,b)=>(_(),c("div",{key:b,class:"bg-gray-50 p-4 mb-6 rounded-lg shadow-md"},[t("div",Z,[t("div",Q,[t("p",U,[Y,o(" "+s(e.from),1)]),t("p",q,[z,o(" "+s(e.to),1)]),t("p",G,[H,o(" "+s(e.description),1)])]),t("div",{class:"flex-shrink-0 mt-4 md:mt-0 md:ml-6"},[t("img",{class:"w-32 h-32 object-cover rounded-lg",src:m,alt:"Ticket image"})])]),t("div",W,[t("div",J,[t("p",K,[X,o(" "+s(e.pivot.quantidade),1)]),t("p",tt,[et,o(" "+s(e.pivot.preco_unitario)+" MZN",1)]),t("p",ot,[st,o(" "+s(e.pivot.subtotal)+" MZN",1)])])])]))),128))]),t("button",{onClick:r[0]||(r[0]=e=>x(n.value.id)),class:"mt-8 inline-block bg-green-500 text-white py-2 px-6 rounded-lg hover:bg-blue-600 transition duration-300"}," Baixar PDF "),N(d,{to:"/",class:"mt-8 inline-block bg-blue-500 text-white py-2 px-6 rounded-lg hover:bg-blue-600 transition duration-300"},{default:D(()=>[o(" Go back to Home ")]),_:1})])}}},lt=f(at,[["__scopeId","data-v-06971e47"]]);export{lt as default};
